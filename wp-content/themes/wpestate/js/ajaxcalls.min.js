
function wpestate_load_stats_tabs(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph_tab(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph_tab(d,h,f){var b=jQuery("#myChart").get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(245,248,250,0.75)",strokeColor:"rgba(77,203,143,0.8)",highlightFill:"rgba(77,203,143,0.8)",highlightStroke:"rgba(77,203,143,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function wpestate_load_stats(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph(d,h,f){var b=jQuery("#myChart_"+f).get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(245,248,250,0.75)",strokeColor:"rgba(77,203,143,0.8)",highlightFill:"rgba(77,203,143,0.8)",highlightStroke:"rgba(77,203,143,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function wpestate_get_filtering_ajax_result(){var f,b,g,c,e,d,j,i,h,a;f=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");g=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");e=parseInt(jQuery("#adv_rooms").val(),10);d=parseInt(jQuery("#adv_bath").val(),10);j=parseInt(jQuery("#price_low").val(),10);i=parseInt(jQuery("#price_max").val(),10);a=parseInt(jQuery("#adv-search-1").attr("data-postid"),10);h=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:h,data:{action:"wpestate_get_filtering_ajax_result",action_values:f,category_values:b,city:g,area:c,advanced_rooms:e,advanced_bath:d,price_low:j,price_max:i,postid:a},success:function(k){},error:function(k){}})}function wpestate_custom_get_filtering_ajax_result(){return}function wpestate_start_filtering_ajax(m){var g,b,h,c,f,d,l,k,i,a,e,j;g=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");h=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");f=parseFloat(jQuery("#adv_rooms").val(),10);d=parseFloat(jQuery("#adv_bath").val(),10);l=parseFloat(jQuery("#price_low").val(),10);k=parseFloat(jQuery("#price_max").val(),10);a=parseFloat(jQuery("#adv-search-1").attr("data-postid"),10);i=ajaxcalls_vars.admin_url+"admin-ajax.php";e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}a=1;if(document.getElementById("search_wrapper")){a=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}j="";jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){j=j+","+jQuery(this).attr("name")}});e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_filter_listings_search",action_values:g,category_values:b,city:h,area:c,advanced_rooms:f,advanced_bath:d,price_low:l,price_max:k,newpage:m,postid:a,halfmap:e,all_checkers:j},success:function(n){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".pagination_nojax").hide();jQuery("#listing_ajax_container").empty().append(n);westate_restart_js_after_ajax();wpestate_check_in_viewport()},error:function(n){}})}function wpestate_typeof_value(b,a){if(typeof(b)!=="undefined"){if(!jQuery("#"+a).hasClass("filter_menu_trigger")){if(a!=="adv_categ"&&a!=="adv_actions"&&a!=="advanced_city"&&a!=="advanced_area"&&a!=="county-state"&&a!=="property-country"){b=b}else{b=b.replace("-"," ")}}}else{b=""}return b}function wpestate_custom_search_start_filtering_ajax(p){var c,l,o,m,d,j,b,a,g,e,k,f;l=parseInt(mapfunctions_vars.fields_no,10);d=[];m=[];o=[];m=mapfunctions_vars.slugs;o=mapfunctions_vars.hows;if(mapfunctions_vars.slider_price==="yes"){a=jQuery("#price_low").val();g=jQuery("#price_max").val()}if((mapfunctions_vars.adv_search_type==="6"||mapfunctions_vars.adv_search_type==="7")&&!jQuery(".halfsearch")[0]){f=jQuery(".tab-pane.active .term_id_class").val();if(mapfunctions_vars.slider_price==="yes"){a=jQuery("#price_low_"+f).val();g=jQuery("#price_max_"+f).val()}for(var h=0;h<l;h++){if(o[h]=="date bigger"||o[h]=="date smaller"){c=wpestate_get_custom_value_tab_search(f+m[h])}else{c=wpestate_get_custom_value_tab_search(m[h])}if(typeof(c)==="undefined"){c=""}d.push(c)}}else{for(var h=0;h<l;h++){c=wpestate_get_custom_value(m[h]);if(typeof(c)==="undefined"){c=""}d.push(c)}}if((mapfunctions_vars.adv_search_type==="6"||mapfunctions_vars.adv_search_type==="7"||mapfunctions_vars.adv_search_type==="8"||mapfunctions_vars.adv_search_type==="9")){var n=jQuery(".adv_search_tab_item.active").attr("data-tax");if(jQuery(".halfsearch")[0]){n=jQuery(".halfsearch").attr("data-tax")}if(n==="property_category"){m[l]="adv_categ"}else{if(n==="property_action_category"){m[l]="adv_actions"}else{if(n==="property_city"){m[l]="advanced_city"}else{if(n==="property_area"){m[l]="advanced_area"}else{if(n==="property_county_state"){m[l]="county-state"}}}}}o[l]="like";if(jQuery(".halfsearch")[0]){d[l]=jQuery("#"+m[l]).parent().find("input:hidden").val()}else{d[l]=jQuery(".adv_search_tab_item.active").attr("data-term")}}k="";jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){k=k+","+jQuery(this).attr("name")}});e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}b=1;if(document.getElementById("search_wrapper")){b=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}j=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:j,data:{action:"wpestate_custom_adv_ajax_filter_listings_search",val_holder:d,newpage:p,postid:b,slider_min:a,slider_max:g,halfmap:e,all_checkers:k},success:function(i){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".entry-title.title_prop").hide();jQuery("#listing_ajax_container").empty().append(i);westate_restart_js_after_ajax();jQuery(".col-md-12.listing_wrapper .property_unit_custom_element.image").each(function(){jQuery(this).parent().addClass("wrap_custom_image")});wpestate_check_in_viewport()},error:function(i){}})}function westate_restart_js_after_ajax(){wpestate_lazy_load_carousel_property_unit();if(typeof wpestate_enable_half_map_pin_action=="function"){wpestate_enable_half_map_pin_action()}var e,b,d,a,c;jQuery(".prop-compare:first-of-type").remove();jQuery(".pagination_ajax_search a").on("click",function(f){f.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();if(mapfunctions_vars.custom_search==="yes"){wpestate_custom_search_start_filtering_ajax(e)}else{wpestate_start_filtering_ajax(e)}});jQuery(".pagination_ajax a").on("click",function(f){f.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();wpestate_start_filtering(e)});jQuery(".property_listing").on("click",function(){var f;f=jQuery(this).attr("data-link");window.open(f,"_self")});jQuery(".share_unit").on("click",function(f){f.stopPropagation()});wpestate_compare_action();jQuery(".icon-fav").on("click",function(f){f.stopPropagation();c=jQuery(this);wpestate_add_remove_favorite(c)});jQuery(".share_list, .icon-fav, .compare-action").on("hover",function(f){if(f.type==="mouseenter"){jQuery(this).tooltip("show")}else{if(f.type==="mouseleave"){jQuery(this).tooltip("hide")}}});jQuery(".share_list").on("click",function(f){f.stopPropagation();var g=jQuery(this).parent().find(".share_unit");g.toggle();jQuery(this).toggleClass("share_on")});setTimeout(function(){jQuery(".property_listing").matchHeight()},1000)}function wpestate_add_remove_favorite(c){var b,a,d;b=c.attr("data-postid");a=jQuery("#security-pass").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){is_pop=1;wpestate_show_login_form()}else{c.toggleClass("icon-fav-off");c.toggleClass("icon-fav-on");jQuery.ajax({type:"POST",url:d,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:b},success:function(e){if(e.added){c.removeClass("icon-fav-off").addClass("icon-fav-on")}else{c.removeClass("icon-fav-on").addClass("icon-fav-off")}},error:function(e){}})}}function wpestate_resend_for_approval(d,a){var c,b;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_resend_for_approval",propid:d},success:function(e){if(e==="pending"){a.parent().empty().append('<span class="featured_prop">Sent for approval</span>');b=parseInt(jQuery("#normal_list_no").text(),10);jQuery("#normal_list_no").text(b-1)}else{a.parent().empty().append(e)}},error:function(e){}})}function wpestate_make_prop_featured(c,a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_make_prop_featured",propid:c},success:function(e){if(e.trim()==="done"){a.empty().html('<span class="label label-success">'+ajaxcalls_vars.prop_featured+"</span>");var d=parseInt(jQuery("#featured_list_no").text(),10);jQuery("#featured_list_no").text(d-1)}else{a.empty().removeClass("make_featured").addClass("featured_exp").text(ajaxcalls_vars.no_prop_featured)}},error:function(d){}})}function wpestate_recuring_pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery(".package_selected .pack-listing-title").text();a=jQuery(".package_selected .pack-listing-title").attr("data-packid");jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_recuring_generation_rest_api",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}jQuery(".pack-listing .buypackage").on("click",function(){var d,a,c,b;jQuery(".pack-listing").each(function(){jQuery(this).removeClass("package_selected")});jQuery(this).parent().addClass("package_selected");c=jQuery(this).parent().find(".pack-listing-title").attr("data-stripetitle");a=jQuery(this).parent().find(".pack-listing-title").attr("data-stripetitle2");b=jQuery(this).parent().find(".pack-listing-title").attr("data-stripepay");d=jQuery(this).parent().find(".pack-listing-title").attr("data-packid");jQuery(".stripe_buttons").attr("id",a);jQuery("#stripe_script").attr("data-amount",b);jQuery("#stripe_script").attr("data-description",c);jQuery("#pack_id").val(d);jQuery("#pay_ammout").val(b);jQuery("#stripe_form").attr("data-amount",b)});function wpestate_pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery(".package_selected .pack-listing-title").text();a=jQuery(".package_selected .pack-listing-title").attr("data-packid");jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_generation",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}function wpestate_listing_pay(e,c,b,a){var d=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_listing_pay",propid:e,is_featured:b,is_upgrade:a},success:function(f){window.location.href=f},error:function(f){}})}function wpestate_start_filtering(f){jQuery("#gmap-loading").show();jQuery("#grid_view").addClass("icon_selected");jQuery("#list_view").removeClass("icon_selected");var e,d,g,c,a,h,b;e=jQuery("#a_filter_action").attr("data-value");d=jQuery("#a_filter_categ").attr("data-value");g=jQuery("#a_filter_cities").attr("data-value");c=jQuery("#a_filter_areas").attr("data-value");a=jQuery("#a_filter_order").attr("data-value");h=ajaxcalls_vars.admin_url+"admin-ajax.php";b=jQuery("#page_idx").val();jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:h,dataType:"json",data:{action:"wpestate_ajax_filter_listings",action_values:e,category_values:d,city:g,area:c,order:a,newpage:f,page_id:b},success:function(j){jQuery("#listing_loader").hide();jQuery("#listing_ajax_container").empty().append(j.to_show);jQuery(".pagination_nojax").hide();westate_restart_js_after_ajax();var i=parseInt(j.no_results);if(i!==0){wpestate_load_on_demand_pins(j.markers,i,0)}else{wpestate_show_no_results()}jQuery(".col-md-12.listing_wrapper .property_unit_custom_element.image").each(function(){jQuery(this).parent().addClass("wrap_custom_image")});jQuery("#gmap-loading").hide();wpestate_check_in_viewport()},error:function(i){}})}function wpestate_show_login_form(){jQuery("#modal_login_wpestate").fadeIn(300);jQuery("#user_menu_open").fadeIn(400)}function wpestate_change_pass_profile(){var b,d,c,a,e;b=jQuery("#oldpass").val();d=jQuery("#newpass").val();c=jQuery("#renewpass").val();a=jQuery("#security-pass").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_update_pass",oldpass:b,newpass:d,renewpass:c,"security-pass":a},success:function(f){jQuery("#profile_pass").empty().append('<div class="login-alert">'+f+"<div>");jQuery("#oldpass, #newpass, #renewpass").val("")},error:function(f){}})}function wpestate_register_user(d){var g,f,b,a,e,c,h;g="";h=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.procesing+"</div>");if(d===1){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId1)}f=jQuery("#user_login_register_topbar").val();b=jQuery("#user_email_register_topbar").val();c=jQuery("#security-register-topbar").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_topbar").val();e=jQuery("#user_password_topbar_retype").val()}if(!jQuery("#user_terms_register_topbar").is(":checked")){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===2){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId3)}f=jQuery("#user_login_register_wd").val();b=jQuery("#user_email_register_wd").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_wd").val();e=jQuery("#user_password_wd_retype").val()}if(!jQuery("#user_terms_register_wd").is(":checked")){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===3){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId4)}f=jQuery("#user_login_register").val();b=jQuery("#user_email_register").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password").val();e=jQuery("#user_password_retype").val()}if(!jQuery("#user_terms_register_sh").is(":checked")){jQuery("#register_message_area").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===5){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId2)}f=jQuery("#user_login_register_mobile").val();b=jQuery("#user_email_register_mobile").val();c=jQuery("#security-register-mobile").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_mobile").val();e=jQuery("#user_password_mobile_retype").val()}if(!jQuery("#user_terms_register_mobile").is(":checked")){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}}}}jQuery.ajax({type:"POST",url:h,data:{action:"wpestate_ajax_register_user",user_login_register:f,user_email_register:b,user_pass:a,user_pass_retype:e,type:d,"security-register":c,capthca:g},success:function(i){if(d===1){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_topbar").val("");jQuery("#user_email_register_topbar").val("");jQuery("#user_password_topbar").val("");jQuery("#user_password_topbar_retype").val("")}else{if(d===2){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_wd").val("");jQuery("#user_email_register_wd").val("");jQuery("#user_password_wd").val("");jQuery("#user_password_wd_retype").val("")}else{if(d===3){jQuery("#register_message_area").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register").val("");jQuery("#user_email_register").val("");jQuery("#user_password").val("");jQuery("#user_password_retype").val("")}else{if(d===5){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_mobile").val("");jQuery("#user_email_register_mobile").val("");jQuery("#user_password_mobile").val("");jQuery("#user_password_mobile_retype").val("")}}}}},error:function(i){}})}function wpestate_forgot(a){var b,c,e,d;e=jQuery("#postid").val();if(a===1){b=jQuery("#forgot_email").val();c=jQuery("#security-forgot").val()}if(a===2){b=jQuery("#forgot_email_topbar").val();c=jQuery("#security-forgot-topbar").val()}if(a===3){b=jQuery("#forgot_email_shortcode").val();c=jQuery("#security-login-forgot_wd").val()}if(a===5){b=jQuery("#forgot_email_mobile").val();c=jQuery("#security-forgot-mobile").val();e=jQuery("#postid_mobile").val()}d=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_forgot_pass",forgot_email:b,"security-forgot":c,postid:e,type:a},success:function(f){if(a===1){jQuery("#forgot_email").val("");jQuery("#forgot_pass_area").empty().append('<div class="login-alert">'+f+"<div>")}if(a===2){jQuery("#forgot_email_topbar").val("");jQuery("#forgot_pass_area_topbar").empty().append('<div class="login-alert">'+f+"<div>")}if(a===3){jQuery("#forgot_email_shortcode").val("");jQuery("#forgot_pass_area_shortcode").empty().append('<div class="login-alert">'+f+"<div>")}if(a===5){jQuery("#forgot_email_mobile").val("");jQuery("#forgot_pass_area_mobile").empty().append('<div class="login-alert">'+f+"<div>")}},error:function(f){}})}function wpestate_login_wd(){var d,b,a,e,c;d=jQuery("#login_user_wd").val();b=jQuery("#login_pwd_wd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop_wd").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#ajax_login_container").remove()}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_topbar(){var c,a,d,b;c=jQuery("#login_user_topbar").val();a=jQuery("#login_pwd_topbar").val();b=jQuery("#security-login-topbar").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:d,data:{action:"wpestate_ajax_loginx_form_topbar",login_user:c,login_pwd:a,security:b},success:function(e){jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+e.message+"<div>");if(e.loggedin===true){if(is_pop===1){ajaxcalls_vars.userid=e.newuser;jQuery("#modal_login_wpestate").hide()}else{document.location.href=ajaxcalls_vars.login_redirect}}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(e){}})}function wpestate_login_mobile(){var d,b,a,e,c;d=jQuery("#login_user_mobile").val();b=jQuery("#login_pwd_mobile").val();c=jQuery("#security-login-mobile").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_loginx_form_mobile",login_user:d,login_pwd:b,security:c},success:function(f){jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){document.location.href=ajaxcalls_vars.login_redirect}else{jQuery("#login_user_mobile").val("");jQuery("#login_pwd_mobile").val("")}},error:function(f){}})}function wpestate_enable_actions_modal(){jQuery("#facebooklogin").on("click",function(){jQuery("#cover").hide();wpestate_login_via_facebook(jQuery(this))});jQuery("#yahoologin").on("click",function(){jQuery("#cover").hide();wpestate_login_via_google(jQuery(this))});jQuery("#googlelogin").on("click",function(){jQuery("#cover").hide();wpestate_login_via_google_oauth()});jQuery("#closeadvancedlogin").on("click",function(){jQuery("#ajax_login_container").remove();jQuery("#cover").remove()});jQuery("#reveal_register").on("click",function(){jQuery("#ajax_login_div").fadeOut(400,function(){jQuery("#ajax_register_div").fadeIn()})});jQuery("#reveal_login").on("click",function(){jQuery("#ajax_register_div").fadeOut(400,function(){jQuery("#ajax_login_div").fadeIn()})});jQuery("#wp-login-but").on("click",function(){wpestate_login()});jQuery("#login_pwd, #login_user").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_login()}});jQuery("#wp-submit-register").on("click",function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_register_user(3)}})}function wpestate_login(){var d,b,c,a,e;d=jQuery("#login_user").val();b=jQuery("#login_pwd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#loginmodal").modal("hide");wpestate_new_update_menu_bar(f.newuser)}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_via_facebook(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";a="facebook";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_facebook_login",login_type:a,},success:function(d){window.location.href=d},error:function(d){}})}function wpestate_login_via_google(b){var c,a;c=control_vars.admin_url+"admin-ajax.php";a=b.attr("data-social");jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_google_login",login_type:a},success:function(d){window.location.href=d},error:function(d){}})}function wpestate_login_via_google_oauth(){var b,a;b=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_google_login_oauth"},success:function(c){window.location.href=c},error:function(c){}})}function wpestate_new_update_menu_bar(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",dataType:"json",url:c,data:{action:"wpestate_update_menu_bar",newuser:b},success:function(d){jQuery("#user_menu_open").empty().append(d.menu).addClass("menulist");a='<div class="menu_user_picture" style="background-image: url('+d.picture+')"></div>';jQuery("#user_menu_u").append(a).addClass("user_loged");jQuery(".submit_action").remove()},error:function(d){}})}jQuery(document).ready(function(a){a(".disable_listing").on("click",function(){var g=a(this).attr("data-postid");var f=ajaxcalls_vars.admin_url+"admin-ajax.php";var e=0;if(a(this).hasClass("disabledx")){e=1;a(this).removeClass("disabledx")}else{a(this).addClass("disabledx")}var d=a(this);var c=a(this).parent().parent();a.ajax({type:"POST",url:f,data:{action:"wpestate_disable_listing",prop_id:g,},success:function(h){if(e===1){d.empty().append('<i class="fa fa-play"></i>');c.find(".user_dashboard_status").empty().append('<span class="label label-info">'+ajaxcalls_vars.disabled+"</span>");d.tooltip("hide").attr("data-original-title",ajaxcalls_vars.enablelisting).tooltip("fixTitle").tooltip("show")}else{d.empty().append('<i class="fa fa-pause"></i>');c.find(".user_dashboard_status").empty().append('<span class="label label-success">'+ajaxcalls_vars.published+"</span>");d.tooltip("hide").attr("data-original-title",ajaxcalls_vars.disablelisting).tooltip("fixTitle").tooltip("show")}},error:function(h){}})});a("#stripe_cancel").on("click",function(){var c,d;c=a(this).attr("data-stripeid");d=ajaxcalls_vars.admin_url+"admin-ajax.php";a("#stripe_cancel").text(ajaxcalls_vars.saving);a.ajax({type:"POST",url:d,data:{action:"wpestate_cancel_stripe",stripe_customer_id:c,},success:function(e){a("#stripe_cancel").text(ajaxcalls_vars.stripecancel)},error:function(e){}})});a(".resend_pending").on("click",function(){var c=a(this).attr("data-listingid");wpestate_resend_for_approval(c,a(this))});a(".make_featured").on("click",function(){var c=a(this).attr("data-postid");wpestate_make_prop_featured(c,a(this));a(this).unbind("click")});a("#pick_pack").on("click",function(){var c;c='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(c);jQuery("#paypal_modal").modal();if(a("#pack_recuring").is(":checked")){wpestate_recuring_pay_pack_via_paypal()}else{wpestate_pay_pack_via_paypal()}});a(".listing_submit_normal").on("click",function(){var g,f,d,c,e;e='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(e);jQuery("#paypal_modal").modal();g=a(this).attr("data-listingid");f=a(this).parent().find("input");d=0;c=0;if(f.prop("checked")){d=1}else{d=0}wpestate_listing_pay(g,a(this),d,c)});a(".listing_upgrade").on("click",function(){var c,d,e;c=1;d=0;e=a(this).attr("data-listingid");wpestate_listing_pay(e,a(this),d,c)});a("#facebooklogin, #facebookloginsidebar, #facebookloginsidebar_topbar,#facebookloginsidebar_mobile").on("click",function(){wpestate_login_via_facebook(a(this))});a("#yahoologin, #aollogin,  #yahoologinsidebar, #yahoologinsidebar_topbar,#yahoologinsidebar_mobile").on("click",function(){wpestate_login_via_google(a(this))});a("#googlelogin, #googleloginsidebar, #googleloginsidebar_topbar,#googleloginsidebar_mobile").on("click",function(){wpestate_login_via_google_oauth()});a(".agent_submit_class").on("click",function(){var h,g,k,i,j,d,c,f,e;h=a(this).parent();g=h.find("#agent_contact_name").val();k=h.find("#agent_user_email").val();i=h.find("#agent_phone").val();j=h.find("#agent_comment").val();d=h.find("#agent_id").val();c=h.find("#agent_property_id").val();f=h.find("#agent_property_ajax_nonce").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";h.find("#alert-agent-contact").empty().append(ajaxcalls_vars.sending);a.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_agent_contact_form",name:g,email:k,phone:i,comment:j,agent_id:d,propid:c,nonce:f},success:function(l){if(l.sent){h.find("#agent_contact_name").val("");h.find("#agent_user_email").val("");h.find("#agent_phone").val("");h.find("#agent_comment").val("")}h.find("#alert-agent-contact").empty().append(l.response)},error:function(l){}})});a(".listing_filters_head li").on("click",function(){var d,e,c;d=a(this).text();e=a(this).attr("data-value");c=a(this).parent().parent();c.find(".filter_menu_trigger").text(d).append('<span class="caret caret_filter"></span>').attr("data-value",e);c.find("input:hidden").val(e);wpestate_start_filtering(1)});a(".adv_listing_filters_head li").on("click",function(){var f,g,e,d,c,h;h=ajaxcalls_vars.admin_url+"admin-ajax.php";f=a(this).text();g=a(this).attr("data-value");e=a(this).parent().parent();e.find(".filter_menu_trigger").text(f).append('<span class="caret caret_filter"></span>').attr("data-value",g);d=a("#searcharg").val();c=a("#page_idx").val();a("#listing_ajax_container").empty();a("#listing_loader").show();a.ajax({type:"POST",url:h,data:{action:"wpestate_advanced_search_filters",args:d,value:g,page_id:c},success:function(i){a("#listing_loader").hide();a("#listing_ajax_container").append(i);westate_restart_js_after_ajax();b();wpestate_check_in_viewport()},error:function(i){}})});function b(){var c=a("#a_filter_order").attr("data-value");jQuery(".pagination a").each(function(){var d=a(this).attr("href");d=d+"&order_search="+c;a(this).attr("href",d)})}a(".icon-fav").on("click",function(d){d.stopPropagation();var c=a(this);wpestate_add_remove_favorite(c)});a(".icon-fav-on-remove").on("click",function(c){c.stopPropagation();a(this).parent().parent().remove()});a("#add_favorites").on("click",function(){var d,c,e;d=a("#add_favorites").attr("data-postid");c=a("#security-pass").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){wpestate_show_login_form()}else{a("#add_favorites").text(ajaxcalls_vars.saving);a.ajax({type:"POST",url:e,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:d},success:function(f){if(f.added){a("#add_favorites").text(ajaxcalls_vars.favorite).removeClass("isnotfavorite").addClass("isfavorite")}else{a("#add_favorites").text(ajaxcalls_vars.add_favorite).removeClass("isfavorite").addClass("isnotfavorite")}},error:function(f){}})}});a("#wp-submit-register").on("click",function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(3)}});a("#wp-submit-register_wd").on("click",function(){wpestate_register_user(2)});a("#user_email_register_wd, #user_login_register_wd").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(2)}});a("#wp-submit-register_topbar").on("click",function(){wpestate_register_user(1)});a("#user_email_register_topbar, #user_login_register_topbar, #user_password_topbar, #user_password_topbar_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(1)}});a("#wp-submit-register_mobile").on("click",function(){wpestate_register_user(5)});a("#user_email_register_mobile, #user_login_register_mobile, #user_password_mobile, #user_password_mobile_retype").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_register_user(5)}});a("#forgot_pass").on("click",function(c){c.preventDefault();a("#login-div").hide();a("#forgot-pass-div-sh").show()});a("#return_login").on("click",function(c){c.preventDefault();a("#forgot-pass-div-sh").hide();a("#login-div").show()});a("#forgot_pass_topbar").on("click",function(c){c.preventDefault();a("#login-div_topbar,#login-div-title-topbar").hide();a("#forgot-div-title-topbar,#forgot-pass-div").show()});a("#forgot_pass_mobile").on("click",function(c){c.preventDefault();a("#login-div_mobile,#login-div-title-mobile").hide();a("#forgot-div-title-mobile,#forgot-pass-div-mobile").show()});a("#return_login_topbar").on("click",function(c){c.preventDefault();a("#forgot-div-title-topbar,#forgot-pass-div").hide();a("#login-div_topbar,#login-div-title-topbar").show()});a("#return_login_mobile").on("click",function(c){c.preventDefault();a("#forgot-div-title-mobile,#forgot-pass-div-mobile").hide();a("#login-div_mobile,#login-div-title-mobile").show()});a("#forgot_pass_widget").on("click",function(c){c.preventDefault();a("#login-div-title,#login-div").hide();a("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").show()});a("#return_login_shortcode").on("click",function(c){c.preventDefault();a("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").hide();a("#login-div-title,#login-div").show()});a("#wp-forgot-but").on("click",function(){wpestate_forgot(1)});a("#wp-forgot-but-topbar").on("click",function(){wpestate_forgot(2)});a("#wp-forgot-but-mobile").on("click",function(){wpestate_forgot(5)});a("#wp-forgot-but_shortcode").on("click",function(){wpestate_forgot(3)});a("#forgot_email").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(1)}});a("#forgot_email_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(2)}});a("#forgot_email_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_forgot(3)}});a("#widget_register_topbar").on("click",function(c){c.preventDefault();a("#login-div_topbar").hide();a("#register-div-topbar").show();a("#login-div-title-topbar").hide();a("#register-div-title-topbar").show()});a("#widget_login_topbar").on("click",function(c){c.preventDefault();a("#login-div_topbar").show();a("#register-div-topbar").hide();a("#login-div-title-topbar").show();a("#register-div-title-topbar").hide()});a("#widget_register_mobile").on("click",function(c){c.preventDefault();a("#login-div_mobile").hide();a("#register-div-mobile").show();a("#login-div-title-mobile").hide();a("#register-div-title-mobile").show()});a("#widget_login_mobile").on("click",function(c){c.preventDefault();a("#login-div_mobile").show();a("#register-div-mobile").hide();a("#login-div-title-mobile").show();a("#register-div-title-mobile").hide()});a("#widget_register_sw").on("click",function(c){c.preventDefault();a(".loginwd_sidebar #login-div").hide();a(".loginwd_sidebar #register-div").show();a(".loginwd_sidebar #login-div-title").hide();a(".loginwd_sidebar #register-div-title").show()});a("#widget_login_sw").on("click",function(c){c.preventDefault();a(".loginwd_sidebar #register-div").hide();a(".loginwd_sidebar #login-div").show();a(".loginwd_sidebar #register-div-title").hide();a(".loginwd_sidebar #login-div-title").show()});a("#wp-login-but").on("click",function(){wpestate_login()});a("#login_pwd, #login_user").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login()}});a("#wp-login-but-wd").on("click",function(){wpestate_login_wd()});a("#login_pwd_wd, #login_user_wd").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_wd()}});a("#wp-login-but-topbar").on("click",function(){wpestate_login_topbar()});a("#login_pwd_topbar, #login_user_topbar").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_topbar()}});a("#wp-login-but-mobile").on("click",function(){wpestate_login_mobile()});a("#login_pwd_mobile, #login_user_mobile").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_login_mobile()}});a("#oldpass, #newpass, #renewpass").keydown(function(c){if(c.keyCode===13){c.preventDefault();wpestate_change_pass_profile()}});a("#change_pass").on("click",function(){wpestate_change_pass_profile()});a("#update_profile").on("click",function(){var e,i,g,k,d,r,t,f,j,s,m,h,u,l,n,q,o,p,c;s=a("#firstname").val();m=a("#secondname").val();h=a("#useremail").val();u=a("#userphone").val();i=a("#usermobile").val();l=a("#userskype").val();n=a("#usertitle").val();q=a("#about_me").val();t=a("#userfacebook").val();r=a("#usertwitter").val();d=a("#userlinkedin").val();k=a("#userpinterest").val();g=a("#userinstagram").val();e=a("#website").val();o=ajaxcalls_vars.admin_url+"admin-ajax.php";p=a("#security-profile").val();c=a("#upload_picture").val();f=a("#profile-image").attr("data-profileurl");j=a("#profile-image").attr("data-smallprofileurl");window.scrollTo(0,0);a.ajax({type:"POST",url:o,data:{action:"wpestate_ajax_update_profile",firstname:s,secondname:m,useremail:h,userphone:u,usermobile:i,userskype:l,usertitle:n,description:q,upload_picture:c,"security-profile":p,profile_image_url:f,profile_image_url_small:j,userfacebook:t,usertwitter:r,userlinkedin:d,userpinterest:k,userinstagram:g,userurl:e},success:function(v){a("#profile_message").append('<div class="login-alert">'+v+"<div>");window.scrollTo(0,0)},error:function(v){}})})});